(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{1065:function(e,t,o){Promise.resolve().then(o.bind(o,4165)),Promise.resolve().then(o.bind(o,2612)),Promise.resolve().then(o.t.bind(o,6241,23)),Promise.resolve().then(o.t.bind(o,115,23))},4165:function(e,t,o){"use strict";o.d(t,{Providers:function(){return c}});var r=o(7437),a=o(9512),n=o(7776);let s=e=>{let{...t}=e,{theme:o="system"}=(0,a.F)();return(0,r.jsx)(n.x7,{theme:o,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var l=o(7651);function c(e){let{children:t}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(a.f,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:(0,r.jsxs)(l.H,{children:[(0,r.jsx)(i,{}),t]})})})}let i=()=>{let{theme:e}=(0,a.F)();return(0,r.jsx)(s,{position:"top-right",theme:e})}},7651:function(e,t,o){"use strict";o.d(t,{H:function(){return c},a:function(){return i}});var r=o(7437),a=o(2265),n=o(6463),s=o(8472);let l=(0,a.createContext)(void 0),c=e=>{let{children:t}=e,[o,c]=(0,a.useState)(!1),[i,u]=(0,a.useState)(!1),d=(0,n.useRouter)(),[m,h]=(0,a.useState)();(0,a.useEffect)(()=>{fetch("/config.json").then(e=>e.json()).then(e=>h(e)).catch(e=>console.error("Error fetching config:",e))},[]);let[f,v]=(0,a.useState)(),g=(0,a.useMemo)(()=>m?(console.log(m),s.Z.create({baseURL:"".concat(null==m?void 0:m.apiUrl,"api/v1/"),headers:{"Content-Type":"application/json"}})):null,[m]);(0,a.useEffect)(()=>{var e;document.title=null!==(e=null==m?void 0:m.title)&&void 0!==e?e:""},[m]),(0,a.useEffect)(()=>{if(!g)return;let e=async()=>{try{let e=await g.get("user/checkLogin");200===e.status&&e.data.data.is_login?c(!0):c(!1)}catch(e){c(!1)}finally{u(!0)}},t=async()=>{try{if(!m)return;let e=await g.get("guest/comm/config");200===e.status&&v(e.data.data)}catch(e){console.log(e)}},o=localStorage.getItem("authToken");o?(g.defaults.headers.common.Authorization=o,e()):u(!0),t()},[g]);let p=async(e,t)=>{try{if(!g)throw Error("Loading");let o=await g.post("passport/auth/login",{email:e,password:t}),r=o.data.data.auth_data;return localStorage.setItem("authToken",r),g.defaults.headers.common.Authorization=r,c(!0),d.push("/dashboard"),{success:!0,data:o.data.data}}catch(e){if(s.Z.isAxiosError(e)){var o;let t=null===(o=e.response)||void 0===o?void 0:o.data;throw(null==t?void 0:t.errors)?Object.values(null==t?void 0:t.errors)[0]:null==t?void 0:t.message}throw e}},y=async(e,t,o,r,a)=>{if(!g)throw Error("Loading");try{let n=await g.post("passport/auth/register",{email:e,password:t,email_code:o,invite_code:r,recaptcha_data:a});return{success:!0,data:n.data.data}}catch(e){if(s.Z.isAxiosError(e)){var n;let t=null===(n=e.response)||void 0===n?void 0:n.data;throw(null==t?void 0:t.errors)?Object.values(null==t?void 0:t.errors)[0]:null==t?void 0:t.message}throw e}},w=async(e,t,o)=>{try{if(!g)throw Error("Loading");let r=await g.post("passport/auth/forget",{email:e,password:t,email_code:o});return{success:!0,data:r.data.data}}catch(e){if(s.Z.isAxiosError(e)){var r;let t=null===(r=e.response)||void 0===r?void 0:r.data;throw(null==t?void 0:t.errors)?Object.values(null==t?void 0:t.errors)[0]:null==t?void 0:t.message}throw e}},b=async(e,t)=>{try{if(!g)throw Error("Loading");let o=await g.post("user/changePassword",{old_password:e,new_password:t});return{success:!0,data:o.data.data}}catch(e){if(s.Z.isAxiosError(e)){var o;let t=null===(o=e.response)||void 0===o?void 0:o.data;throw(null==t?void 0:t.errors)?Object.values(null==t?void 0:t.errors)[0]:null==t?void 0:t.message}throw e}},E=async(e,t)=>{try{if(!g)throw Error("Loading");let o=await g.post("passport/comm/sendEmailVerify",{email:e,recaptcha_data:t});return{success:!0,data:o.data.data}}catch(e){if(s.Z.isAxiosError(e)){var o;let t=null===(o=e.response)||void 0===o?void 0:o.data;throw(null==t?void 0:t.errors)?Object.values(null==t?void 0:t.errors)[0]:null==t?void 0:t.message}throw e}};return(0,r.jsx)(l.Provider,{value:{isLoggedIn:o,isAuthChecked:i,login:p,logout:()=>{if(!g)throw Error("Loading");localStorage.removeItem("authToken"),delete g.defaults.headers.common.Authorization,c(!1),d.push("/login")},register:y,reset:w,changePass:b,sendEmailVerify:E,config:m,webConfig:f,request:g},children:t})},i=()=>{let e=(0,a.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},2612:function(e,t,o){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)({}).hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(null,arguments)}o.d(t,{default:function(){return s}});var a=o(2265),n=o(4480);function s(e){let{locale:t,...o}=e;if(!t)throw Error("Failed to determine locale in `NextIntlClientProvider`, please provide the `locale` prop explicitly.\n\nSee https://next-intl-docs.vercel.app/docs/configuration#locale");return a.createElement(n.IntlProvider,r({locale:t},o))}},115:function(){},6241:function(e){e.exports={style:{fontFamily:"'__Inter_aaf875', '__Inter_Fallback_aaf875'",fontStyle:"normal"},className:"__className_aaf875",variable:"__variable_aaf875"}},9512:function(e,t,o){"use strict";o.d(t,{F:function(){return i},f:function(){return u}});var r=o(2265),a=["light","dark"],n="(prefers-color-scheme: dark)",s="undefined"==typeof window,l=r.createContext(void 0),c={setTheme:e=>{},themes:[]},i=()=>{var e;return null!=(e=r.useContext(l))?e:c},u=e=>r.useContext(l)?e.children:r.createElement(m,{...e}),d=["light","dark"],m=e=>{let{forcedTheme:t,disableTransitionOnChange:o=!1,enableSystem:s=!0,enableColorScheme:c=!0,storageKey:i="theme",themes:u=d,defaultTheme:m=s?"system":"light",attribute:p="data-theme",value:y,children:w,nonce:b}=e,[E,x]=r.useState(()=>f(i,m)),[S,_]=r.useState(()=>f(i)),k=y?Object.values(y):u,C=r.useCallback(e=>{let t=e;if(!t)return;"system"===e&&s&&(t=g());let r=y?y[t]:t,n=o?v():null,l=document.documentElement;if("class"===p?(l.classList.remove(...k),r&&l.classList.add(r)):r?l.setAttribute(p,r):l.removeAttribute(p),c){let e=a.includes(m)?m:null,o=a.includes(t)?t:e;l.style.colorScheme=o}null==n||n()},[]),T=r.useCallback(e=>{let t="function"==typeof e?e(e):e;x(t);try{localStorage.setItem(i,t)}catch(e){}},[t]),j=r.useCallback(e=>{_(g(e)),"system"===E&&s&&!t&&C("system")},[E,t]);r.useEffect(()=>{let e=window.matchMedia(n);return e.addListener(j),j(e),()=>e.removeListener(j)},[j]),r.useEffect(()=>{let e=e=>{e.key===i&&T(e.newValue||m)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[T]),r.useEffect(()=>{C(null!=t?t:E)},[t,E]);let O=r.useMemo(()=>({theme:E,setTheme:T,forcedTheme:t,resolvedTheme:"system"===E?S:E,themes:s?[...u,"system"]:u,systemTheme:s?S:void 0}),[E,T,t,S,s,u]);return r.createElement(l.Provider,{value:O},r.createElement(h,{forcedTheme:t,disableTransitionOnChange:o,enableSystem:s,enableColorScheme:c,storageKey:i,themes:u,defaultTheme:m,attribute:p,value:y,children:w,attrs:k,nonce:b}),w)},h=r.memo(e=>{let{forcedTheme:t,storageKey:o,attribute:s,enableSystem:l,enableColorScheme:c,defaultTheme:i,value:u,attrs:d,nonce:m}=e,h="system"===i,f="class"===s?"var d=document.documentElement,c=d.classList;".concat("c.remove(".concat(d.map(e=>"'".concat(e,"'")).join(","),")"),";"):"var d=document.documentElement,n='".concat(s,"',s='setAttribute';"),v=c?(a.includes(i)?i:null)?"if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'".concat(i,"'"):"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=u?u[e]:e,n=t?e+"|| ''":"'".concat(r,"'"),l="";return c&&o&&!t&&a.includes(e)&&(l+="d.style.colorScheme = '".concat(e,"';")),"class"===s?t||r?l+="c.add(".concat(n,")"):l+="null":r&&(l+="d[s](n,".concat(n,")")),l},p=t?"!function(){".concat(f).concat(g(t),"}()"):l?"!function(){try{".concat(f,"var e=localStorage.getItem('").concat(o,"');if('system'===e||(!e&&").concat(h,")){var t='").concat(n,"',m=window.matchMedia(t);if(m.media!==t||m.matches){").concat(g("dark"),"}else{").concat(g("light"),"}}else if(e){").concat(u?"var x=".concat(JSON.stringify(u),";"):"").concat(g(u?"x[e]":"e",!0),"}").concat(h?"":"else{"+g(i,!1,!1)+"}").concat(v,"}catch(e){}}()"):"!function(){try{".concat(f,"var e=localStorage.getItem('").concat(o,"');if(e){").concat(u?"var x=".concat(JSON.stringify(u),";"):"").concat(g(u?"x[e]":"e",!0),"}else{").concat(g(i,!1,!1),";}").concat(v,"}catch(t){}}();");return r.createElement("script",{nonce:m,dangerouslySetInnerHTML:{__html:p}})}),f=(e,t)=>{let o;if(!s){try{o=localStorage.getItem(e)||void 0}catch(e){}return o||t}},v=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},g=e=>(e||(e=window.matchMedia(n)),e.matches?"dark":"light")}},function(e){e.O(0,[872,313,776,971,23,744],function(){return e(e.s=1065)}),_N_E=e.O()}]);